# План реализации "Фронтенда" 1-ой десктопной версии системы "AppStream" ("Этап 2")
## Обеспечить поддержку следующими браузерами:
- Google Chrome	с 55 версии
- Mozilla Firefox	с 50 версии
- Opera	с 43 версии
- YaBrowser	с 17.1 версии
- Microsoft Edge Browser с 14.14 версии 

----------------------

## Общая терминология:
 - "Приложение" - веб-приложение предоставляющее функционал обработки и распознавания изображений карточек с даннами компаний
 и пользователей (визиток).

 - "Прототип" - работающая модель приложения. Пояснение:
Действующий и очень приблизительный прототип приложения, в котором реализованы некоторые взаимодействия между различными
уровнями (слоями) приложения, такими как СУБД, Веб-сервер и Frontend (браузер клиента). Необходима наглядная реализация
обработки операций инициируемых пользователем. Точная реализация макетов и алгоритмов - не требуется.

 - 1-ая версия приложения. Пояснение:
Приложение выглядящее как задумно дизайнером (в соотв. с макетами, файл: "2017-05-11_Linkx_Desktop_v17.pdf",
md5: "ff af d5 99 19 2a a1 a0 96 d2 17 08 4b c9 40 23").
Должно быть реализовано не менее 90% задуманного функционала (конкретные детали см. в: План реализации "1-ой версии приложения").
Поведение приложения при взаимодействии с пользователем должно быть ожидаемым и качественным.
Необходима корректная реализация алгоритмов.

 - 2-ая версия приложения. Пояснение:
Надёжное и стабильно-работающее приложение на современных браузерах, в том числе при больших нагрузках (при большом кол-ве
посетителей). Также успешно проходящее различные виды автоматических тестов (в том числе, нагрузочного тестирования).
Приложение с реализацией 100% задуманного функционала, а также с реализацией функционала, который было решено добавить
в процессе разработки "1-ой версии приложения" (после согласования между участвующими сторонами).

 - "Десктопная версия приложения" - веб-приложение для десктопных браузеров. Пояснение:
Веб-приложение, используемое клиентами через браузеры работающие на персональных компьютерах пользователей
(десктопные версии браузеров)

 - Мобильная версия приложения - веб-приложение для мобильных браузеров. Пояснение:
Приложение в значительной степени повторящее функционал десктопной версии. Также имеет добавленный специфический функционал
(оговаривается отдельно).

 - "Макет" - файл в формате "Portable Document Format" (PDF) с изображениеями элементов приложения (дизайном)

 - "Диалог" - диалоговое окно (блок с запросом)


---------------------------
## Общие примечания:

 - Под термином "приложение", ниже по тексту понимается "Десктопная версия приложения", если не указано иное
 (нет уточняющего слова "мобильное")

 - Под термином "макет" имеется в виду документ 2017-03-26_Linkx_Desktop_v6.pdf с изображениями желаемых страниц и
 блоков разрабатываемого приложения.

 - После реализации "1-ой версии приложения" могут появится новые макеты, в связи с котороми необходимо будет
 скорректировать ТЗ и заключить доп.соглашение.

 - Напротив пунктов может быть указан прогноз времени в виде: 3ч/5ч/10ч или 1д/2д/4д.
Этот формат следует понимать как: оптимистичная_оценка/наиболее_вероятная_оценка/пессимистичная_оценка.
Буквы "ч" и "д" в них обозначают "час" и "день", соотвественно.
Главная цифра в оценке по времени - это цифра по середине. Оптимистичная оценка времени несбывается почти никогда,
поэтому ориентируемся на "наиболее вероятную оценку".

 - Прогноз времени заданные с использованием "-" - не учитывается, считаясь информационным

 - Цель прогноза по времени только одна - попробовать предсказать фактическую затрату времени (соответственно, пытаясь
  представить максимальное кол-во факторов, которое надо будет учесть для качественной реализации).

 - Оценки времени на взаимодействия между разработчиками - в этом документе нет. А значит для того, чтобы понять необходимое
 кол-во времени - необходимо также спрогнозировать и добавить предполагаемое время взаимодействия.

 - За минимальную единицу времени берётся один час (1ч). Если оценивается какая-то простая реализация, то минимальный
 прогноз времени - 1ч/1ч/1ч.

 - В ходе разработки, всё равно будут появляться нюансы которые необходимо продумывать (вопросы архитектуры, взаимодействия
 и пр.), поэтому использовать меньшие единицы времени - нет смысла.

 - _Готовые иконки и логотип - будут предоставлены (некоторые уже есть, остальные будут предоставлены во время разработки._

 - В диалоге добавления/редактирования визитки есть различные поля для ввода значений. Применительно к ним используется
 следующая терминология:
     - "обязательное поле" - поле, значение которого должно обязательно передаваться на сервер;
     - "необязательное поле" - поле, значение которого может не быть (или быть "пустым") при передаче на сервер;
     - "дополнительное поле" - необязательное поле, значение которого может быть добавлено пользователем, в помощью элемента "Add Field".


---------------------------
## Специальная терминология:
 - "Своя визитка" - визитка, которая создана пользователем и представляет его
 - "Чужая визитка" - визитка которая создана пользователем с использованием изображения чужой визитки
 - "Контакты" - визитки для которых был направлен запрос на соединение либо уже соединённая "чужая визитка"
 - "cards" - визитки (свои или чужие в зависимости от контекста, вне зависимости был ли отправлен для них запрос)
 - Диалог "Add your card" - диалог создания "своей визитки"
 - Диалог "Card Edit" - тоже что и "Add your card" но заполняется данными уже созданной визитки
 - Диалог "Choose Your Country" - диалог с выбором кода страны, используется при вводе телефонных номеров (стр.3)
 - Диалоги "Notifications"/"Recommenations" - диалоги с глобальными настройками пользователя для уведомлений и рекомендаций (стр.10-11)
 - Диалог "Add Field - диалог добавления доп. полей, используется при создании "своей визитки" (стр.36-37)
 - Диалог "Choose your cards to connect" - диалог выбора своих визиток (стр.158) 
 - "Меню фильтрации по тегам"/"Status" - элемент интерфейса правой части главного окна (личного кабинета), который либо показывает статус (при выборе визитки), либо можно фильтровать набор чужих визиток по тегам

--------------------------

#### Примечания к изменениям в новых макетах по сравнению со старыми
(новый файл с макетами: "2017-05-11_Linkx_Desktop_v17.pdf", md5: "ff af d5 99 19 2a a1 a0 96 d2 17 08 4b c9 40 23"

старый файл с макетами: "2017-03-26_Linkx_Desktop_v6.pdf", md5: "9c 16 d5 69 30 12 dd fe a3 38 ef 1a f3 00 4a 1d")
 - В авторизации:
   - Теперь авторизации по паролю не будет (по крайней мере в 1-ой версии). Соответсвенно кнопки-ссылки "Forgot password" больше не будет, а повторная отсылка пароля будет вызываться кнопкой "Resend" (стр.6)
 - В Диалогах:
   - Диалога "Card Preview" больше нет, теперь просмотр визитки (и своей и чужой) называется - "Card View"
   - В диалоге "Add your card"/"Edit card" добавилось "необязательное поле" - "Middle Name"

-------------------------
#### Внутренние изменения после обсуждения 15.05.2017
- Логотип изменён на AppStream

- В поле визитки типа "Event" было поле "attendies", там должны были быть ссылки на визитки участников события -
теперь этого поля не будет

 	 В "Примечания к интерфейсу 2 (про поля в визитках)"
	Было до обсуждения 15.05.2017
	"Обязательные поля" - одинаковые для обоих типов визиток
		- type
		- first_name
		- last_name
		- company
		- phone
		- email
		- photo (в этой версии ("1-ая версия приложения") обязательное, пока нет автогенерации изображения)
	Стало:
	"Обязательные поля" - одинаковые для обоих типов визиток
		- type
		- first_name
		- last_name

- Добавилось "необязательное поле" - "Middle Name"


#### Примечания к неточностям в новых макетах (файл с макетами: "2017-05-11_Linkx_Desktop_v17.pdf", md5: "ff af d5 99 19 2a a1 a0 96 d2 17 08 4b c9 40 23")
 В "Главном-правом окне":
- Блока "Request" для чужих визиток - больше не будет (только MatchV/MatchVV/Today
-----------------------------

#### Возможности которые желательно включить в релиз 1-ой версии (если успеваем по времени)
- Несложные (быстрые), косметические фиксы
- Кастомный скролл - как в макете (стр.33)

-----------------------------
## Примечания к интерфейсу:
- Диалога "Card Preview" больше нет - теперь просмотр визитки (и своей и чужой) это "Card View"
- В "Card Preview" (стр. 23 макета) имя компании выделено цветом и рядом стоит стрелочка.
  В этой версии не выделять цветов и убрать "стрелочку" (в следующей версии будет переход на поиск по компаниям).

- В "Card Preview" (стр. 23 макета) имеется значок "метка на карте", им выделяется факт успешной проверки адреса (эта проверка происходит автоматически)

- Под изображением карточки есть 3 значка - 2 слева и 1 справа (стр. 24 макета). Сейчас мы их не показываем (до выяснения деталей).

- В меню Tags/Events/Add - Tags мы не показываем (до выяснения обстоятельств)

- Когда ещё нет чужик визиток, есть надпись "Save a first card" её надо заменить на "Save your first card"

- В окне поиска вместо поиска по #Tags сделать поиск Events

- Кружочек с плюсиком напротив Profile - тоже самое что "Add card" в меню Profile

    - "X" в конце полей (например в диалоге создания/редактирования визитки) - должен быть только на доп. полях, для их удаления

- Меню "Change image" на макетах нужно игнорировать - его не будет

- В макетах встречается ссылка "Forgot password" - её игнорировать (удалено)

- Language - не делаем. Переключение языка нигде не делаем (подпункт меню Language в меню Profile - исключаем). На лендинг - декларативно указываем текущий язык.

- Дизайна диалога "Notifications" (с выводом визиток клиентов, запросивших подтверждение на добавление) у нас нет - поэтому делаем сами (это подменю из меню Profile)

- В диалоге "Edit tags", если при выборе тега, в правом окне, мы выбрали не выбранную карточку, в теге увеличивается число "Contacts" - но надо изменить на "Cards", так как это число визиток которые связаных с данным тегом (стр.139)

- Когда приходят уведомления, на визитках появляются блоки в соотв. с их состояниями - MatchV/MatchVV/Today:
  - MatchV - система нашла одну или более визиток, в соотв. с изображением, которое загрузил пользователь добавля чужую визитку
  - MatchVV - какой-то пользователь (для своей визитки или визиток) послал запрос на соединение
  - Today - для визиток-событий - означает, что событие должно произойти сегодня
-----------------------------
## Примечания к интерфейсу 2 (про поля в визитках):

- "Обязательные поля" - одинаковые для обоих типов визиток
    - type
    - first_name
    - last_name

- "Необязательные поля" - этот набор полей отличаются для разных типов визиток
   - для визитки типа Contact см. стр.8 макета
   - для визитки типа Event см. стр.10 макета

- В этой версии ("1-ая версия приложения") решено набор дополнительных полей (которые добавляются с помощью элемента
"Add field"), для обоих типов визиток, (Contact, Event) - делать одинаковыми (стр.19 макета)
(для "1-ой версии приложения" это может быть изменено)

- Поле в визитке типа Event "Link your card to assist"?  - в этой версии (1-ая версия приложения) - скрываем

- В визитке типа Event делаем поле "attendies"(участники) - и в этой версии (1-ая версия приложения) - скрываем

- В визитке типа Contact, поле "Birthday Event" - удаляем

- Для обоих типов визиток делаем  дополнительное поля с выбором "Тайм-зоны"
-----------------------------------
## План реализации:
#### Этап 1: Прототип (сделано)
#### Этап 2: 1-ая версия приложения
#### Этап 3: "Мобильное приложение"
#### Этап 4: (возможен, по ситуации): "2-ая версия приложения" "2-ая версия мобильного приложения"
-----------------------------------

## План реализации "Прототипа" (сделано):
 - (проанализировать и вставить из логов, если будет нужно)

# План реализации "1-ой версии приложения":


#                    *Подготовительная часть*
 * Корректировка работающей модели ("Прототипа"):
   * Корректировка архитектуры - 1.5д/2д/3д
      - корректировка распределения программных сущностей по слоям
      - анализ и корректировка взаимодействий с сервером
      - подключение фронтенд-инструментов (сборщика/оптимизатора)

   * Корректировка взаимодействия на клиенте (между клиентом и веб-сервером) - 1д/1.5д/2д

#                    *Основная часть*
# Модули:
   * Диалог "Choose Your Country" (появляется при вводе номера) (стр.3)
       - вёрстка 1ч/1ч/1ч
       - программинг - 1ч/1ч/1ч
       	 - при наведении на страну - рисовать галку напротив
   * Диалоги "Notifications"/"Recommendations" (стр.10-11)
       - вёрстка 1ч/1ч/2ч
       - программинг - 2ч/2ч/3ч
   * Диалог "Add Field" (стр.36-39)
       - вёрстка 1ч/1ч/2ч
       - программинг - 1ч/1ч/1ч
       	 - подсвечивать checkbox напротив поля, при наведения мышкой
   * Авторизация по телефону/email (стр.1-5)
     * [ОТМЕНЕНО.ОСВОБОЖДЕНО 1ч-2ч-4ч] - вёрстка стартового блока с выбором вариантов авторизации (стр.2 старых макетов)
     * [ОТМЕНЕНО.ОСВОБОЖДЕНО 1ч-2ч-4ч] вёрстка блока с авторизацией по email/паролю - запрос email/паролю (стр.4 старых макетов)
     * вёрстка блока с авторизацией по email/телефону (стр.3 макета) - 1ч/2ч/3ч
	 * Процесс авторизации - 1ч/1ч/1ч
	   - При активации поля изменяется надпись на кнопке:
	     - если начали вводить телефон то авторизуемся по телефону (меняется соотв. образом надпись на кнопке)
	     - если переключились на email, но не ввели - заходим без авторизации (меняем надпись)
	     - если начали вводить email - заходим по email (меняем надпись)
	     - В этой версии, ориентируемся на мобильный телефон имеющий 9 цифр (кроме кода страны)
     * Диалог "Saving..." - подтверждения email/telephon (стр. 58)
       - вёрстка - 1ч/1ч/1ч
       - поведение - 1ч/1ч/1ч
         - вызывает диалог "ввода кода подтверждения"
     * Диалог ввода кода подтверждения - verify code (стр.6-7, 59-62)
        - вёрстка - 1ч/1ч/3ч
	    - обработка поведения - 1д/2д/3д
	      (в том числе, учесть фактор вызова этого диалога из разных мест и необходимость специфической реакции в зависимости от вызова)
          - реакция на ввод неправильного кода подтверждения
          - сброс введённого кода
          - реакция на успешное подтверждение
	      - если диалог авторизации показ при сохранении "своей визитки" вместе с диалогом "Card View", то этот диалог - тоже исчезает
          - др.
     
   * Компонент горизонтального перелистывания элементов кнопками "<" и ">" (стр.110)
        - вёрстка - 2ч/3ч/4ч
        - поведение компонента - 3ч/4ч/8ч

  * Взаимодействие с API сервиса карт. [ПЕРЕНЕСЕНО на 2-ую версию.ОСВОБОДИЛОСЬ: 2ч-4ч-8ч + 0.5д-1д-1д]

  * Календарь
     - установка плагина с календарём - 1ч/2ч/3ч

  * Добавился диалог "Edit tags" (стр.138-145)
    - вёрстка 2ч/3ч/4ч
  	  - метки на найденных визитках (стр.139)
    - программинг 1ч/2ч/2ч
  	    - Вывод найденных в процессе редактирование визиток, с пометками о подтверждении (стр.139)
  	    - Найденные в процессе визитки можно выбирать
  	    - При редактировании заголовоков тегов ("Edit titles") новые названия тегов соответствуют тем же визитками, каким соответствовали старые названия тегов (стр.141-142)

#  Главное окно приложения (с блоками различных типов авторизации)
   * Лендинг (стр. 1)
     - вёрстка нижнего меню, центрального блока и иконки приложения - 2ч/4ч/5ч
     - [ОТМЕНЕНО.ОСВОБОЖДЕНО 1ч-1ч-2ч] вёрстка нижней полосы с блоком смены языка (с всплывающим блоком выбора языка)
     - вёрстка блока с информационным содержанием (информация изменяется кликами на элементы верхнего
     меню - Product, Support, MobileApps) - 2ч/2ч/4ч
   
   * Программирование функционала лендинга, кроме авторизации - это ниже (стр.1) - 1ч/2ч/3ч
     - Поведение меню Product/Support/MobileApps - смена блоков с содержанием
     - Подсвечивание текущего пункта меню
     - [ПЕРЕНЕСЕНО в другую версию] Смена языка - появление блока с выбором языка при клике, выбор, исчезновение, запись в глобальные настройки
   
   * Авторизация (по email/telephon, по логину/паролю, без авторизации) (см. "Модули"/"Авторизация по телефону/email")

#  Личный кабинет:

## Вывод и взаимодействия с визитками
- рендеринг визиток
  - Вёрстка визитки пользователя - 2ч/3ч/5ч
  - Вёрстка "чужой" визитки - 1ч/2ч/3ч
  - Вёрстка "рекомендованной" визитки (другой размер и цвет фона) - 1ч/2ч/3ч
  - Вывод визиток
    - Вёрстка адекватного отображения коллекции визиток (с появлением полосы прокрутки по необходимости) - 1ч/2ч/3ч
      - Вывод своих визиток
      - Вывод чужих визиток
    - Рефакторинг кода вывода визиток 1ч/1ч/1ч

  - Доп. вёрстка (в соотв. с новыми макетами) "чужой" визитки - 4ч/5ч/7ч
    - Вёрстка блоков "MatchV/MatchVV/Today/Connected", появляющихся на визитках (стр.150)
    - Затенять визитку при наведении мыши, показывать кнопку "View" и изменять её цвет при наведении (стр.118-119)
   	- На ещё не подтверждённые визитки выводить кнопки "Skip" и "Connect" (стр.147)
   	- На визитки выводить дату добавления или обновления при наведении мыши (стр.119)
   	- Вёрстка "двойной" визитки (подсвеченной блоком "MatchVV")

  - Доп. вёрстка (в соотв. с новыми макетами) "своей" визитки - 1ч/1ч/1ч
    - Подсвечивание визитки при наведении и вёрстка блока "View Card", который тоже подсвечивается при наведении (стр.71-72)

  - Программинг изменения вида визиток при взаимодействии с ними - 1ч/1ч/1ч

  - Вёрстка контекстного меню для визиток 1ч/1ч/1ч
    - пункты  меню "Change Card", "Duplicate" и "Delete" на изображении своей визитки
   	- пункты  меню "Declaim" и "Delete" на изображении чужой визитки

  - Программинг контекстного меню для визиток - 1ч/1ч/1ч
    - Открывается при клике
    - Изменяет цвет при наведении


## Левая часть ЛК
- При выборе своей визитки (кликом на шапку визитки) появляется окно диалога выбора
  своей визитки с сообщением о кол-во соединений этой визитки, а в правой части - надпись
  с названием тега меняется на "Selected -----------" и показываются только визитки,
  соединённые с выбранной - 2ч/2ч/3ч

- Верхнее меню "Profile"
  - Вёрстка закрытого меню - 1ч/1ч/2ч (стр.8)
  - Вёрстка раскрытого меню - 1ч/2ч/3ч (стр.9)
    - пункты "Notifications/Recommendations/Exit"
  - Программирование поведения - 2ч/4ч/6ч (стр.8-9)
    - вывод "(not registered)" при использовании системы без аккаунта (был вход через "Start without account")
    - подсветка текущего выбора
	- в том числе реакция на клик по подменю "Exit" - выход из системы и редирект на главную страницу
	- вызов соотв. диалогов настроек уведомлений и рекомендаций (Notifications и Recommendations)

    [ОТМЕНЕНО.ОСВОБОЖДЕНО - 1ч-2ч-4ч] дизайн и вёрстка соответствующего диалога с коллекцией визиток тех клиентов которые добавили
    визитку пользователя к себе (текущий пользователь может согласиться или отказаться) - выводятся в правой части в соотв. с
    пришедшмими уведомлениями

### Диалог "Add your card"/"Edit card"
 * Меню выбора типа добавляемой визитки (для двух типов Contact и Event)
   - вёрстка - 1ч/1ч/1ч
   - программинг - 1ч/1ч/1ч
 * Вызовы диалогов (1ч/1ч/2ч)
    - Регистрация. Вызов диалога регистрации, при нажатии на кнопки Confirm напротив телефона и email (см. "Диалог ввода кода подтверждения")
      - [ПЕРЕНЕСЕНО]Выбор адреса. Вызов диалога выбора адреса на карте (если было успешно опробовано взаимодействие с API карт, за умеренное время)
    - Выбор даты. Вызов календаря
    - Подтверждение удаления даты рождения - появление диалога "Birthday Notifications" при попытке очищения поля с датой дня рождения (стр.81)
    - вёрстка диалога "Birthday Notifications" (стр.81) - 1ч/1ч/1ч
    - вёрстка набора полей для визитки типа Contact - 2ч/3ч/6ч
       (корректировка вёрстки из "Прототипа")
    - вёрстка набора полей для визитки типа Event - 2ч/3ч/6ч
    - Диалог "Saving..." (стр. 43 макета). Диалог первого сохранения для пользователя без аккаунта.
      - Появляется после попытки сохранения первой (собственной) визитки пользователя, в случае если пользователь не зарегистрирован.
        - [ПЕРЕНЕСЕНО.ОСВОБОЖДЕНО 1ч-2ч-4ч]вёрстка - перенесено в "Авторизация"
    	- [ПЕРЕНЕСЕНО.ОСВОБОЖДЕНО 1ч-2ч-4ч]поведение - перенесено в "Авторизация"

 * программирование изменение кнопок "Confirm" на "Confirmed" в случае, если значение поля подтвержденно - 1ч/1ч/2ч

 * вёрстка двойного поля (с доб. номером) типа "Phone (work)" (стр.41) - 1ч/1ч/1ч

 * программинг редактирования полей 1ч/2ч/3ч
   - Работа с двойным полем (с доб. номером) типа "Phone (work)" (стр.41)
   - Очищение полей по клику "крестик" в конце поля
   - Выделять цветом кнопку "Confirm" по мере заполнения полей
   - программирование смены текущего типа визитки
     - Изменение типа визитки возможно в том случае, если ещё не начали заполнять поля

  * Вёрстка и поведение поля "Company"
    - вёрстка - 1ч/1ч/3ч
      - Отображение списка найденых компаний
      - Блок "Searching" (ожидание ответа от сервера)
      - Под каждой компанией кол-во контактов
    - поведение - 0.5д/1д/2д
      - Поиск компаний при вводе каждого символа
      - и др.

 * Интерфейс загрузки, распознавания и корректировки изображения визитки
   - Выбор файла изображения на локальном компьютере (сделано)
   - Показ файла изображения (сделано)
   - корректировка вёрстки - 2ч/3ч/4ч
   - сделать рефакторинг - 2ч/3ч/4ч
   - Добавить возможность повторить попытку распознавания - 1ч/2ч/3ч
   - Рамка для указания области обрезки и распознавания - 1д-1.5д-2д [ПЕРЕОЦЕНЕНО.ОСВОБОДИЛОСЬ: 0д-0.5д-1.5д]
   - В том числе, показ специальной рамки после успешного распознавания (стр.53)

 * загрузка личного фото
   - Добавить функционал изменяющий существующего фото при редактировании визитки - показывать существующее фото в рамке
     - Элемента с личным фото (там где надпись "Add Photo" или "Add Pic", например стр.9 макета)
   - вёрстка - 1ч/1ч/2ч
     - Кнопка "Add Photo" при наведении должна подсвечиваться (стр.45)
   - если фото ещё нет, то ставим надпись "Add Photo"
   - если фото уже есть, то должна быть надпись "Edit Photo"
     - интерфейс диалога для загрузки фото
   - вёрстка круглой рамки для обрезания изображения - 1ч/1ч/2ч
   - повторение загрузки/обрезания изображения - 1ч/2ч/2ч
 * Добавление/удаление дополнительных полей - 2ч/3ч/4ч
   - Сделать пассивное удаление полей (если поля пустые, то после сохранения они исчезают)
   - продумать и реализовать схему учитывания добавления/удаления доп. полей на при взаимодействии с сервером
   - множественное добавление полей

 * В случае редактирования визитки - поиск визитки и заполнение диалога актуальными данными - 1ч/2ч/4ч [ПЕРЕОЦЕНЕНО.ОСВОБОЖДЕНО 1ч-2ч-4ч]

 * Учесть автогенерацию изображения визитки по введённым данным (разрешить сохранять визитку без указания изображения)

 * В диалогах "Create Your Card" и "Edit Card" после клика на "Save", всегда показывается диалог предварительного просмотра "Card View". А если нет подтверждённого email/телефона, то также показывается блок подтверждения email/телефона. Если мы подтвердили телефон или email то "Card View" исчезает.

### Диалог "Card View"
#### Диалог "Card View" своей/чужой визитки
 - Для сгенерированного изображения - отображаются только первые два заполненных телефона
 - Контекстное меню визиток (клик на "..." в шапке визиток)
   - для "своей визитки" - пункты "Duplicate card / Delete card" (стр.68-69)
   - для "чужой визитки" - пункты "Claim"/"Delete card" (стр.148)
   - вёрстка - 1ч/1ч/2ч
   - программинг - 1ч/1ч/1ч

 - "Блок настройки тегов" (стр.131-135,94-100)
   - Вёрстка - 3ч/5ч/8ч
     - если ещё нет тегов, то показывать надпись "No tags have been added yet for a quick search" (стр.131)
     - пометить специальным образом предлагаемые варианты тегов - закрасить серым, сдвинуть, написать "Recommended" (стр.132)
     - Для визиток-событий (стр.94-100)
       - Показывать кол-во событий связанных с тегом, через надпись "5 events >"
   - Программинг - 1ч/1ч/1ч
     - Показывается по нажатию на # под визиткой (своей или чужой)
     - Загрузить уже существующие теги (чтобы ими можно было воспользоваться) (стр.132)
     - Для визиток-событий (стр.94-100)
       - Показывать кол-во событий связанных с тегом, через надпись "5 events >"
 - Поиск сотрудников компании (для "Card View" с данными)
   - Название компании должно показываться в виде ссылки - при клике на неё должен происходить поиск визиток сотрудников этой компании (не в собственных чужих визитках, а внешний поиск - по все базе визиток). Выяснить что должно происходить при клике на одного из сотрудников
   - Должно быть сделано на основе блока "Search", его кастомизацией - должна быть единственная вкладка "Company" и должен быть вписан в диалог (на основе "Search" на стр.161). Когда активизируется поиск, он должен происходить по сотрудникам текущей компании (как в блоке "Search"), но по всей базе, а не только по своим визитками
   - Вёрстка 2ч/3ч/4ч
   - Программинг 2ч/3ч/5ч


#### Диалог "Card View" чужой визитки
 - Диалог "Choose your cards to connect"
   - вёрстка 1ч/1ч/1ч
   - программинг - 1ч/1ч/1ч
     - функционал выбора своих визиток и обработка запросов (при клике на "Connect")
 - Визитка
      - вёрстка 1ч/1ч/1ч
        - значок с "двумя человечками" и цифрой (кол-во чужих визиток пользователя которому принадлежит данная визитка - для визиток-контактов, а для визиток событий - это кол-во контактов (возможно соединённых), т.е. кол-во разосланных приглашений)
    - обработка контекстного меню "..." с пунктами "Claim"/"Delete card"
    - блок "Connect" - со выводом кол-ва контактов
    - для "несоединённой визитки" в состоянии "MatchV", показывается блок "список вариантов визиток", с которыми предположительно связана выбранная "чужая" визитка (стр.152)
    - в "списке вариантов визиток" галочкой помечаются "верифицированные визитки"
    - "Блок настройки тегов" - тоже что и для "Card View" своей визитки
    - блоки "Общие контакты"/"Выбор контакта" - подствечивание выбранного контакта
  - программинг - 2ч/3ч/5ч
    - Блок "список общих контактов" мы видим когда кликаем на иконку "група человечков с цифрой" (стр.151)
    - запись кол-ва всех чужих визиток пользователя, которому принадлежит визитка
    - взаимодействие с контекстным меню "..." (пункты "Claim"/"Delete card")
    - при нажатии на "Connect" (в шапке визитки) должен появляться диалог "Choose your cards to connect" для выбора своей визитки, от которой должен быть направлен запрос на подтверждение, если она не одна или просто соединять со своей визиткой, если она одна
    - в блоке "Connect", надпись кнопки может быть "Connect" или "Disconnect", в зависимости от - был ли направлен запрос на подтверждение
    - в "списке вариантов визиток" галочкой помечать "верифицированные визитки"
    - Если мы сделали запрос на подтверждение, но на него ещё не было ответа то мы видим блок Back/Disconnect (стр.164)
    - поведение блока "общих контактов" - показ при клике на ярлыке с человечками и выбор контакта


#### Диалог "Card View" своей визитки (стр.58)
 - Визитка
   - вёрстка 1ч/1ч/1ч
     - показываем кол-во контактов (отправленных запросов подтверждений) на верхней полосе визитки
     - добавление двух иконок с замками (замок открыт/замок закрыт) - один их них скрыть

   - программинг - 1ч/1ч/1ч
     - выводим кол-во контактов на верхнюю полосу
     - клик по верхней полосе визитки - приводит к открытию "списка соединений" этой визитки

 - также является диалогом предварительного просмотра, при сохранении визитки в диалогах "Add your card"/"Edit card"
 - вёрстка диалога (редактирование полей - отключено) - 2ч/3ч/8ч
 - программинг набор полей - 1ч/1ч/1ч
   - для визитки типа Event - показ одной даты, если дата начала и окончания совпадают (стр.91)
   - и др.
 - вёрстка скрытых блоков - 2ч/3ч/5ч
   - блок "настройка видимости"(стр.64-66)
     (примечание: появляется при клике на замок)
     - вёрстка блоков "Public card"/"Private card" (стр.65)
   - блок "список контактов" (стр.174-180)
     - Надпись с текущем кол-вом контактов (визиток, для которых запрошены подтверждения) (стр.174)
   - блок "настройки тегов" (неоценивать - уже есть в: Диалог "Card View" своей/чужой визитки)

 - программинг поведения скрытых блоков - 2ч/2ч/3ч
     - программинг настройки видимости (при клике на значок "замка") (стр.64-66)
       - показ блока настройки видимости
       - отсылка нового значения видимости
       - измененение иконки "замка" (открыт/закрыт)
       - показ соотв. сообщения
     - режим добавления новых контактов (запросов на подтверждения) (стр.174-180)
       - при клике на "Edit" можно показывать через фильр тегов другие чужие визитки и их выбирать (177-178)
       - выделение checkbox'ов после подтверждения (телефонов, email'ов)
     - поведение "Блока настройки тегов" (неоценивать - уже есть в: Диалог "Card View" своей/чужой визитки)

 - показывать при клике на "Save" в диалоге "Add your card"/"Edit card"
 - при выборе добавляется пункт "original card contacts"
   - пункт добавляется в меню "фильтрации по тегам", который сбрасывает выбор визиток (остаются только те,
     которым отправлен запрос на соединение, с выбраной "своей" визиткой)

 - Вывод блока с идентификатором для зарегистрированных пользователей
   - вёрстка - 1ч/2ч/3ч
   - программирование на клиенте - 1ч/1ч/2ч

#### Добавился диалог "Choose your cards to connect"
- Вёрстка 2ч/2ч/3ч
- Программинг - 1ч/2ч/3ч
  - запрос и вывод визиток, реализация запросов к серверу, обозначающих отказ и согласие пользователя для конкретных
    клиентов

#### Кнопка Language (смена языка) - не делаем (в этой версии)

## Правая часть ЛК
#### Верхнее меню
   - Вёрстка блока с меню "Contact/Event", появляющегося при клике на "+" (стр.86-87) - 1ч/1ч/1ч
   - Меню "Contacts/Events"
     - Вёрстка чисел с кол-вом пришедших уведомлений - 1ч/1ч/2ч
     - При клике на Contacts или Events показывать соотв. набор визиток - 1ч/1ч/2ч

   - Уведомления
     - Кол-во пришедших уведомлений ("Notifications") должно обновляться в real-time - 1ч/1ч/1ч
     - Визуальная корретировка чужих визиток в соотв. с пришедшими уведомлениями - 1ч/2ч/3ч
       - Когда приходят новые уведомления связанные с новыми визитками (MatchVV) - автоматически добавлять эти визитки
       - Показывать соотв. блоки на визитках - MatchV/MatchVV/Today/Connected
   	     - Для визиток типа "Events"
   	       - события которые, происходят в текущий день - на них появляется блок "Today" (стр.182-183)
   	       - Для визиток с блоком "Today" - при наведении мыши должна появляется кнопка "OK", при нажатии на которую, счётчик уведомлений уменьшается на один

   - Поиск ("Search") по Name/Company/#Events
     - вёрстка блока поиска (без процесса поиска, стр.23 макета) - 1ч/1ч/1ч
     - вёрстка блока поиска (в котором начат процесс поиска, стр.24 макета) - 2ч/3ч/5ч
     - поведение блока - 1.5д/2д/3д
       - Очистка. Удаление текста по нажатию на крестик справа.
   	   - Вывод блока "Searching..." при ожидании ответа сервера
   	   - Вывод итога поиска (надпись "256 contacts")
   	   - Взаимодействия с сервером - запрос на поиск, вывод результата
   	   - Переключение режима поиска. Переключение между табами Name/Company/Events
       - В "#Events", внешний по тегам визиток-событий (стр.101-104)
     - доп.вёрстка (в соотв. с новыми макетами) - 1ч/1ч/1ч
       - справа должен показываться один из следующих ярлыков либо скрыты оба (стр.)
  	     - ""(отсутсвие иконки) - визитка невидимая и запрещён поисковый запрос
 	     - ">" - визитка видимая - поисковый запрос разрешен всегда
	     - "card"(изображение визитки) - разрешен поисковый запрос, а карточка невидимая
	   - На иконках с фотками (или с дефолтным фото-иконкой) должна быть галка для верифицированных визиток
     - доп.программирование (в соотв. с новыми макетами) - 1ч/2ч/3ч
         - Поиск компаний при вводе каждого символа
       	 - Проверить верификацию визитки и ставить - ярлыки с галками для верифицированных визиток
       	 - Проверять верифицированность визитки - если верифицирована, то ставить галку на фото
	     - Поиск в вкладке "#Events", внешний поиск по тегам визиток-событий (стр.101-104)

 - Поведение элементов правой части ЛК - 1ч/1ч/1ч
   - "+" в правом-верхнем углу(напротив поля "Search") - после выбора типа визитки, показывает окно выбора файла (изображение "чужой визитки") для добавления "чужих визиток" (стр.8)
   - Кнопка "Save a first card" появляется тогда, когда нет ни одной визитки и её действия аналогично кнопке "+", в правом-верхнем углу (стр.109)

   - Добавление чужих визиток
      - Вёрстка диалога добавления - 4ч/6ч/8ч
      - После добавления 1-ой визитки - убрать кнопку "Save your first card"
      - Добавление выбранных фотографий в компонент "компонент горизонтального перелистывания элементов" 1ч/3ч/8ч
      - Поведение диалога 2ч/6ч/8ч
        - Перелистывание элементов кнопкой "Next"
	 - Распознавание изображения кнопкой Check
	 - Подтверждение добавления кнопкой "Approve" (после удачного распознавание, кнопка Check заменяется кнопкой Approve)
	 - Перелистывание на следующее изображение после подтверждения добавления

   - [ПЕРЕНЕСЕНО.ОСВОБОЖДЕНО 1ч-1ч-2ч есть отдельная задача для вёрстки контекстного меню]
      Вёрстка меню "Delete card" (при кликах на 3 точки в заголовках визитки)
   - [УДАЛЕНО.ОСВОБОЖДЕНО 1ч-1ч-2ч]Удаление чужих визиток - 1ч/1ч/2ч
   - Реакция на удаления визитки - 1ч/2ч/4ч
      - запрос на удаление
      - подтверждение удаления
      - вывод ошибки при неудачи
      - удаление визитки из интерфейса

  - Выбор визиток
    - Выбор чужой визитки  (аналогично окну просмотра своей визитки - "Card View") - 1ч/1ч/1ч
      - клик на "Х"-часть элемента "Selected --- X" - сбрасывает выбор визитки

  - Выбор своей визитки 1ч/2ч/3ч
	  - изменение элемента "Фильтр по тегам" на элемент "Selected --- X" (стр.173)
	  - клик на "Х"-часть элемента "Selected --- X" - сбрасывает выбор визитки
	  - показ соединённых визиток
	  - показ блока визитки с кол-вом контактов (при клике на верхнюю полосу)
	  - добавляется пункт "original card contacts" сбрасывающий выбор визиток, которым не был направлен запрос (стр.176)

  - Вёрстка кнопок скрытия/показа "рекоммендаций"/"поиска по тегам" - 1ч/1ч/1ч

  - Вывод рекомендуемых визиток
    - вёрстка блока с рекомендуемыми визитками - 1ч/1ч/2ч
    - перелистывание визиток (используется "компонент горизонтального перелистывания элементов") - 1ч/2ч/3ч

  - "Фильтр по тегам"/"Status" (стр.116-117,126-129)
     - вёрстка - 1ч/2ч/3ч
     - программинг - 1ч/1ч/1ч
       - Набор хэш-тэгов разный для режимов "Contacts" и "Events" (пункты верхнего меню правой части)
       - При фильтрации визиток-событий, использовать пространство имён тегов для событий

   - [ОТМЕНЕНО.ОСВОБОЖДЕНО: 1ч-1ч-1ч] Вёрстка вывода текущего языка - целиком в сл.версию
-----------------------------------------------------------------------------------------
# К "Мобильной версии приложения" (Этап 3):
 - ...

-------------
# Ко 2-ой версии приложения (Этап 4):
 - В главном окне:
   - Кастомный скролл (если не был сделан в 1-ой версии) - как в макете (стр.33)
   - Рамки
     - Добавляем маркеры к рамкам: для прямоугольной рамки (при загрузке изображений визиток) - по углам, для круглой - по окружности (стр.51-53,110-115,47-48,77)

 - В диалоге  "Card View":
   - взаимодействия с картами 
     - автоматическая проверка корректности адреса и подсвечивание соотв. иконки 
       (см. "Взаимодействие с API сервиса карт" > "Проверка корректности адреса")
       - ставим иконку "метку" - вместо checkbox'a напротив поля адреса
     - уточнение адреса, указанием точки на карте
       (см. "Взаимодействие с API сервиса карт" - "Диалог указания местоположения на карте")

 - Модуль работы с картами
    - Подтверждение корректности адреса
    - Указание адреса на карте
 - Автоматическое и ручное тестирование
   - автоматические модульные тесты (юнит-тесты)
   - автоматические тесты взаимодействия с сервером  (интеграционные тесты)
   - нагрузочное тестирование
   - ручное тестирование
 - Исправление ошибок (найденных в процессе создания и запуска тестов) - - 70% времени разработки предыдущей версии
 - выбор точки (уточнение адреса) на или яндекс-картах гугл-картах
   - В диалоге "Locating..." (карта)
     - Вёрстка блока "Failed to locate" (стр.55)
 - смена языка (с английского на русский и обратно)
    - Добавление локализации (на русский язык)
    - вёрстка блока с выбором языка при клике - 1ч/1ч/2ч
    - появление блока, выбор, исчезновение, запись текущего языка в глобальные настройки приложения - 1ч/1ч/2ч

 - Взаимодействие с API сервиса карт. Взаимодействия с API сервиса предоставлящего функционал работы с картами (maps.yandex.ru или maps.google.ru))
   - Проверка корректности адреса - 2ч/4ч/8ч
   - Диалог указания местоположения на карте. Попробовать интегрировать функционал работы с сервисом карт (гугл-картами или яндекс картами) - 0.5д/1д/1д
   - Реализовать интеграцию с сервисом карт (гугл- или яндекс- картами) - ??/??/??
